---
title: Deep Agents CLI
sidebarTitle: CLI
description: Interactive command-line interface for building with Deep Agents
---

A terminal interface for building agents with persistent memory. Agents maintain context across sessions, learn project conventions, and execute code with approval controls.

<Frame>
  <iframe
    width="100%"
    height="400"
    src="https://www.youtube.com/embed/IrnacLa9PJc"
    title="Deep Agents CLI Demo"
    frameBorder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowFullScreen
  ></iframe>
</Frame>

## Quick start

Set your API key:

```bash
export ANTHROPIC_API_KEY="your-api-key"
```

Or create a `.env` file in your project root:

```bash
ANTHROPIC_API_KEY=your-api-key
```

Run the CLI:

```bash
uvx deepagents-cli
```

Give the agent a task:

```bash
> Create a Python script that prints "Hello, World!"
```

The agent proposes changes with diffs for your approval before modifying files.

<Accordion title="Installation and configuration">
Install locally if needed:

```bash
pip install deepagents-cli
```

The CLI uses Anthropic Claude Sonnet 4 by default. To use OpenAI:

```bash
export OPENAI_API_KEY="your-key"
```

Enable web search (optional):

```bash
export TAVILY_API_KEY="your-key"
```

API keys can be set as environment variables or in a `.env` file.
</Accordion>

## Built-in capabilities
<Columns cols={3}>
<Card title="File operations" icon="file">
    Read, write, and edit files in your project with tools that enable agents to manage and modify code and documentation.
</Card>
<Card title="Shell command execution" icon="terminal">
    Execute shell commands to run tests, build projects, manage dependencies, and interact with version control systems.
</Card>
<Card title="Web search" icon="magnifying-glass">
    Search the web for up-to-date information and documentation (requires Tavily API key).
</Card>
<Card title="HTTP requests" icon="globe">
    Make HTTP requests to APIs and external services for data fetching and integration tasks.
</Card>
<Card title="Task planning and tracking" icon="list-check">
    Break down complex tasks into discrete steps and track progress through the built-in todo system.
</Card>
<Card title="Memory storage and retrieval" icon="brain">
    Store and retrieve information across sessions, enabling agents to remember project conventions and learned patterns.
</Card>
</Columns>


## Persistent memory

Agents store information in `~/.deepagents/AGENT_NAME/memories/` as markdown files using a memory-first protocol:

1. **Research**: Searches memory for relevant context before starting tasks
2. **Response**: Checks memory when uncertain during execution
3. **Learning**: Automatically saves new information for future sessions

Organize memories by topic with descriptive filenames:

```
~/.deepagents/backend-dev/memories/
├── api-conventions.md
├── database-schema.md
└── deployment-process.md
```

Teach the agent conventions once:

```bash
uvx deepagents-cli --agent backend-dev
> Our API uses snake_case and includes created_at/updated_at timestamps
```

It remembers for future sessions:

```bash
> Create a /users endpoint
# Applies conventions without prompting
```

## Remote sandboxes

Execute code in isolated remote environments for safety and flexibility. Supported providers: [Runloop](https://www.runloop.ai/), [Daytona](https://www.daytona.io/), and [Modal](https://modal.com/).

**Use cases:**
- **Safety**: Protect your local machine from potentially harmful code execution
- **Clean environments**: Use specific dependencies or OS configurations without local setup
- **Parallel execution**: Run multiple agents simultaneously in isolated environments
- **Long-running tasks**: Execute time-intensive operations without blocking your machine
- **Reproducibility**: Ensure consistent execution environments across teams

### Setup

Configure your sandbox provider:

```bash
# Runloop
export RUNLOOP_API_KEY="your-key"

# Daytona
export DAYTONA_API_KEY="your-key"

# Modal
modal setup
```

Run the CLI with a sandbox:

```bash
uvx deepagents-cli --sandbox runloop --sandbox-setup ./setup.sh
```

The agent runs locally but executes all code operations in the remote sandbox. Optional setup scripts can configure environment variables, clone repositories, and prepare dependencies.

<Accordion title="Setup script example">
Create a `setup.sh` file to configure your sandbox environment:

```bash
#!/bin/bash
set -e

# Clone repository using GitHub token
git clone https://x-access-token:${GITHUB_TOKEN}@github.com/username/repo.git $HOME/workspace
cd $HOME/workspace

# Make environment variables persistent
cat >> ~/.bashrc <<'EOF'
export GITHUB_TOKEN="${GITHUB_TOKEN}"
export OPENAI_API_KEY="${OPENAI_API_KEY}"
cd $HOME/workspace
EOF

source ~/.bashrc
```

Store secrets in a local `.env` file for the setup script to access.
</Accordion>

**Security**: Sandboxes isolate code execution, but agents remain vulnerable to prompt injection with untrusted inputs. Use human-in-the-loop approval, short-lived secrets, and trusted setup scripts only.

## Configuration

### Options

| Option                 | Description                                                 |
|------------------------|-------------------------------------------------------------|
| `--agent NAME`         | Use named agent with separate memory                        |
| `--auto-approve`       | Skip tool confirmation prompts (toggle with `Ctrl+T`)       |
| `--sandbox TYPE`       | Execute in remote sandbox: `modal`, `daytona`, or `runloop` |
| `--sandbox-id ID`      | Reuse existing sandbox                                      |
| `--sandbox-setup PATH` | Run setup script in sandbox                                 |

### Commands

| Command                              | Description                            |
|--------------------------------------|----------------------------------------|
| `deepagents list`                    | List all agents                        |
| `deepagents help`                    | Show help                              |
| `deepagents reset --agent NAME`      | Clear agent memory and reset to default|
| `deepagents reset --agent NAME --target SOURCE` | Copy memory from another agent |

## Interactive mode

**Slash commands**: `/tokens`, `/clear`, `/exit`

**Bash commands**: Prefix with `!` (for example, `!git status`)

**Keyboard shortcuts**:

| Shortcut    | Action              |
|-------------|---------------------|
| `Enter`     | Submit              |
| `Alt+Enter` | Newline             |
| `Ctrl+E`    | External editor     |
| `Ctrl+T`    | Toggle auto-approve |
| `Ctrl+C`    | Interrupt           |
| `Ctrl+D`    | Exit                |
